module.exports = class Data1715228045847 {
    name = 'Data1715228045847'

    async up(db) {
        await db.query(`CREATE TABLE "asset_metadata_history" ("id" character varying NOT NULL, "timestamp" numeric, "content_uri" text, "metadata" jsonb, "asset_id" character varying, CONSTRAINT "PK_94cab17983a7cc063b3c9ffb88b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_8a6618115b581777839b5c5226" ON "asset_metadata_history" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_a5c56b22e8b74e45f5dcf76090" ON "asset_metadata_history" ("timestamp") `)
        await db.query(`CREATE TABLE "collector" ("id" character varying NOT NULL, "collector" text, "token_id" numeric, "collect_module" text, "collect_module_data" text, "timestamp" numeric, "asset_id" character varying, CONSTRAINT "PK_0d93071208ac3e8dd49506d903f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e235ae1707cf7e637e9353a51b" ON "collector" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_a8122903753f245d5aa3f2c7dd" ON "collector" ("collector") `)
        await db.query(`CREATE INDEX "IDX_11049fc3d3cabc159ee2fd3bd2" ON "collector" ("timestamp") `)
        await db.query(`CREATE TABLE "curation_tag" ("id" character varying NOT NULL, "name" text, "normalized_name" text, "curation_id" character varying, CONSTRAINT "PK_11a55e987b8df439395097fae81" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_cf6fce11d2adda475731aca81d" ON "curation_tag" ("curation_id") `)
        await db.query(`CREATE TABLE "curation" ("id" character varying NOT NULL, "token_uri" text, "publisher" text, "status" integer, "hash" text, "timestamp" numeric, "last_updated_at" numeric, "name" text, "description" text, "image" text, "banner_image" text, "properties" jsonb, "metadata" jsonb, CONSTRAINT "PK_de0e4d1c645b4bc2e9a26b9a3f1" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a1ff65d547c257b3c2b8015e3a" ON "curation" ("publisher") `)
        await db.query(`CREATE INDEX "IDX_eedf762f89c27b7573dc9f1be5" ON "curation" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_69503b75831e186b377ab71c43" ON "curation" ("last_updated_at") `)
        await db.query(`CREATE TABLE "curation_asset" ("id" character varying NOT NULL, "order" numeric, "status" character varying(8), "timestamp" numeric, "approve_at" numeric, "curation_id" character varying, "asset_id" character varying, CONSTRAINT "PK_deb7c8f85e292c8e61759d22980" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ee0912f0404bad60490e0ed008" ON "curation_asset" ("curation_id") `)
        await db.query(`CREATE INDEX "IDX_e521b09aa8277b7b80c0d37b93" ON "curation_asset" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_53af03ae7139699899387794ed" ON "curation_asset" ("timestamp") `)
        await db.query(`CREATE TABLE "asset" ("id" character varying NOT NULL, "asset_id" numeric, "hub" text, "hub_name" text, "publisher" text, "content_uri" text, "timestamp" numeric, "hash" text, "last_updated_at" numeric, "query1" text, "query2" text, "name" text, "type" text, "image" text, "description" text, "properties" jsonb, "metadata" jsonb, "content" text, "collect_module" text, "collect_module_init_data" text, "collect_nft" text, "collect_count" numeric, "gated_module" text, "gated_module_init_data" text, CONSTRAINT "PK_1209d107fe21482beaea51b745e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2a48e81afa7729ed31c2c7b18e" ON "asset" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_d439f59d73cbe9ba229c136375" ON "asset" ("hub") `)
        await db.query(`CREATE INDEX "IDX_da5414205913c272959745b45f" ON "asset" ("publisher") `)
        await db.query(`CREATE INDEX "IDX_b08d89b57c60050b62d774665f" ON "asset" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_1e7c82e366bef4ec6c2ba46ca2" ON "asset" ("last_updated_at") `)
        await db.query(`CREATE INDEX "IDX_0b784bbba208ae9850eb203dd0" ON "asset" ("query1") `)
        await db.query(`CREATE INDEX "IDX_c829d56b31e8e2730cea6029f8" ON "asset" ("query2") `)
        await db.query(`CREATE TABLE "asset_tag" ("id" character varying NOT NULL, "name" text, "normalized_name" text, "asset_id" character varying, CONSTRAINT "PK_bc1024247786d70ae36c809e1ff" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a2780c7e7361aae9795f867079" ON "asset_tag" ("asset_id") `)
        await db.query(`CREATE TABLE "contract_info" ("id" character varying NOT NULL, "name" text, "symbol" text, "description" text, "image" text, "banner_image" text, "featured_image" text, "external_link" text, "collaborators" text, CONSTRAINT "PK_de5fc90e42a90a8a9d5233e3f2e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "asset_hub" ("id" character varying NOT NULL, "management" text, "admin" text, "name" text, "token_collect_module" text, "fee_collect_module" text, "nft_gated_module" text, "create_asset_module" text, "timestamp" numeric, "implementation" text, "version" text, "hash" text, CONSTRAINT "PK_99771a62f48504f4154931b5819" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_02047cd2770a4aca3144fdc342" ON "asset_hub" ("name") `)
        await db.query(`CREATE INDEX "IDX_de83b6baa9c66ff8a598cddb4b" ON "asset_hub" ("timestamp") `)
        await db.query(`CREATE TABLE "hub_manager" ("id" character varying NOT NULL, "timestamp" numeric, "global_module" text, "hub_creator_nft" text, "curation" text, CONSTRAINT "PK_9c07121c4e2c56ed6dc59bfd7d1" PRIMARY KEY ("id"))`)
        await db.query(`ALTER TABLE "asset_metadata_history" ADD CONSTRAINT "FK_8a6618115b581777839b5c52260" FOREIGN KEY ("asset_id") REFERENCES "asset"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "collector" ADD CONSTRAINT "FK_e235ae1707cf7e637e9353a51b7" FOREIGN KEY ("asset_id") REFERENCES "asset"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "curation_tag" ADD CONSTRAINT "FK_cf6fce11d2adda475731aca81d6" FOREIGN KEY ("curation_id") REFERENCES "curation"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "curation_asset" ADD CONSTRAINT "FK_ee0912f0404bad60490e0ed008c" FOREIGN KEY ("curation_id") REFERENCES "curation"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "curation_asset" ADD CONSTRAINT "FK_e521b09aa8277b7b80c0d37b936" FOREIGN KEY ("asset_id") REFERENCES "asset"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "asset_tag" ADD CONSTRAINT "FK_a2780c7e7361aae9795f867079b" FOREIGN KEY ("asset_id") REFERENCES "asset"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "asset_metadata_history"`)
        await db.query(`DROP INDEX "public"."IDX_8a6618115b581777839b5c5226"`)
        await db.query(`DROP INDEX "public"."IDX_a5c56b22e8b74e45f5dcf76090"`)
        await db.query(`DROP TABLE "collector"`)
        await db.query(`DROP INDEX "public"."IDX_e235ae1707cf7e637e9353a51b"`)
        await db.query(`DROP INDEX "public"."IDX_a8122903753f245d5aa3f2c7dd"`)
        await db.query(`DROP INDEX "public"."IDX_11049fc3d3cabc159ee2fd3bd2"`)
        await db.query(`DROP TABLE "curation_tag"`)
        await db.query(`DROP INDEX "public"."IDX_cf6fce11d2adda475731aca81d"`)
        await db.query(`DROP TABLE "curation"`)
        await db.query(`DROP INDEX "public"."IDX_a1ff65d547c257b3c2b8015e3a"`)
        await db.query(`DROP INDEX "public"."IDX_eedf762f89c27b7573dc9f1be5"`)
        await db.query(`DROP INDEX "public"."IDX_69503b75831e186b377ab71c43"`)
        await db.query(`DROP TABLE "curation_asset"`)
        await db.query(`DROP INDEX "public"."IDX_ee0912f0404bad60490e0ed008"`)
        await db.query(`DROP INDEX "public"."IDX_e521b09aa8277b7b80c0d37b93"`)
        await db.query(`DROP INDEX "public"."IDX_53af03ae7139699899387794ed"`)
        await db.query(`DROP TABLE "asset"`)
        await db.query(`DROP INDEX "public"."IDX_2a48e81afa7729ed31c2c7b18e"`)
        await db.query(`DROP INDEX "public"."IDX_d439f59d73cbe9ba229c136375"`)
        await db.query(`DROP INDEX "public"."IDX_da5414205913c272959745b45f"`)
        await db.query(`DROP INDEX "public"."IDX_b08d89b57c60050b62d774665f"`)
        await db.query(`DROP INDEX "public"."IDX_1e7c82e366bef4ec6c2ba46ca2"`)
        await db.query(`DROP INDEX "public"."IDX_0b784bbba208ae9850eb203dd0"`)
        await db.query(`DROP INDEX "public"."IDX_c829d56b31e8e2730cea6029f8"`)
        await db.query(`DROP TABLE "asset_tag"`)
        await db.query(`DROP INDEX "public"."IDX_a2780c7e7361aae9795f867079"`)
        await db.query(`DROP TABLE "contract_info"`)
        await db.query(`DROP TABLE "asset_hub"`)
        await db.query(`DROP INDEX "public"."IDX_02047cd2770a4aca3144fdc342"`)
        await db.query(`DROP INDEX "public"."IDX_de83b6baa9c66ff8a598cddb4b"`)
        await db.query(`DROP TABLE "hub_manager"`)
        await db.query(`ALTER TABLE "asset_metadata_history" DROP CONSTRAINT "FK_8a6618115b581777839b5c52260"`)
        await db.query(`ALTER TABLE "collector" DROP CONSTRAINT "FK_e235ae1707cf7e637e9353a51b7"`)
        await db.query(`ALTER TABLE "curation_tag" DROP CONSTRAINT "FK_cf6fce11d2adda475731aca81d6"`)
        await db.query(`ALTER TABLE "curation_asset" DROP CONSTRAINT "FK_ee0912f0404bad60490e0ed008c"`)
        await db.query(`ALTER TABLE "curation_asset" DROP CONSTRAINT "FK_e521b09aa8277b7b80c0d37b936"`)
        await db.query(`ALTER TABLE "asset_tag" DROP CONSTRAINT "FK_a2780c7e7361aae9795f867079b"`)
    }
}
